---
name: manage-index
description: "仅处理索引：任务索引与经验索引的增删改。校验与同步由 maintain-meta 负责。"
---

# Skill: manage-index

## 目的

**只做索引相关**：维护任务索引、经验索引的**增删改**，保持「进行中 / 已完成 / 已归档」等列表与条目正确。  
索引的校验、与实际目录同步由 **maintain-meta** 负责。

## 触发条件

- 任务创建/完成/归档
- 新经验已保存
- 上下文文件新增或删除

## 管理的索引

### 1. 任务索引

`.cantrip/workspace/index.md`：包含进行中、已完成、已归档等小节，每项为任务链接与阶段说明。

### 2. 经验索引（可选）

`.cantrip/context/experience/INDEX.md`：按 Bug、Performance、Feature、Process 分类列出经验文档。

## 操作

- **加入任务**：在「进行中」增加一行链接与描述、阶段。
- **更新阶段**：修改对应任务的 Phase 描述。
- **移至已完成**：从「进行中」移除，在「已完成」或「已归档」中增加条目。

## 输出

```
📋 索引已更新

**任务索引**:
- 新增: {task-id}
- 更新: {task-id}
- 移除: {task-id}

**当前状态**:
- 进行中: {n}
- 已完成: {n}
- 已归档: {n}
```
